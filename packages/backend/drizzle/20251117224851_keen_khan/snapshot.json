{
  "id": "dd3d057b-b651-4539-8bee-e571e0c842b8",
  "prevIds": [
    "85fc4b1f-3bc2-4404-a296-2ab978bf232a"
  ],
  "version": "8",
  "dialect": "postgres",
  "ddl": [
    {
      "isRlsEnabled": false,
      "name": "albums",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "albums_pkey",
      "schema": "public",
      "table": "albums",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "title",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "artist",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "year",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "cover_art",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "schema": "public",
      "table": "albums",
      "entityType": "columns"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "title",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "artist",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "album_unique_idx",
      "schema": "public",
      "table": "albums",
      "entityType": "indexes"
    },
    {
      "isRlsEnabled": false,
      "name": "playlist_items",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "playlist_items_pkey",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "columns"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "playlist_id",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "columns"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "track_id",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "position",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "added_at",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "columns"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "playlist_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "playlist_items_playlist_id_idx",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "indexes"
    },
    {
      "nameExplicit": false,
      "columns": [
        "playlist_id"
      ],
      "schemaTo": "public",
      "tableTo": "playlists",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "name": "playlist_items_playlist_id_playlists_id_fk",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "fks"
    },
    {
      "nameExplicit": false,
      "columns": [
        "track_id"
      ],
      "schemaTo": "public",
      "tableTo": "tracks",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "name": "playlist_items_track_id_tracks_id_fk",
      "schema": "public",
      "table": "playlist_items",
      "entityType": "fks"
    },
    {
      "isRlsEnabled": false,
      "name": "playlists",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "playlists_pkey",
      "schema": "public",
      "table": "playlists",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "playlists",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "schema": "public",
      "table": "playlists",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "description",
      "schema": "public",
      "table": "playlists",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "schema": "public",
      "table": "playlists",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "schema": "public",
      "table": "playlists",
      "entityType": "columns"
    },
    {
      "isRlsEnabled": false,
      "name": "release_tracks",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "release_tracks_pkey",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "columns"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "release_id",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "columns"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "track_id",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "1",
      "generated": null,
      "identity": null,
      "name": "disc_number",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "track_number",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "added_at",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "columns"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "release_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "release_tracks_release_id_idx",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "indexes"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "release_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "disc_number",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "track_number",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "release_tracks_release_disc_track_idx",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "indexes"
    },
    {
      "nameExplicit": false,
      "columns": [
        "release_id"
      ],
      "schemaTo": "public",
      "tableTo": "releases",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "name": "release_tracks_release_id_releases_id_fk",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "fks"
    },
    {
      "nameExplicit": false,
      "columns": [
        "track_id"
      ],
      "schemaTo": "public",
      "tableTo": "tracks",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "name": "release_tracks_track_id_tracks_id_fk",
      "schema": "public",
      "table": "release_tracks",
      "entityType": "fks"
    },
    {
      "isRlsEnabled": false,
      "name": "releases",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "releases_pkey",
      "schema": "public",
      "table": "releases",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "title",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "primary_artist",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "year",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "release_type_enum",
      "typeSchema": "public",
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "release_type",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "cover_art_path",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "schema": "public",
      "table": "releases",
      "entityType": "columns"
    },
    {
      "isRlsEnabled": false,
      "name": "track_metadata",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "track_metadata_pkey",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "track_id",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "title",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "artist",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "album_id",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "year",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 1,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "genres",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "bitrate",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "codec",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "tsvector",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "search_vector",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "columns"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "track_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "track_metadata_track_id_idx",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "indexes"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "album_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "track_metadata_album_id_idx",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "indexes"
    },
    {
      "nameExplicit": false,
      "columns": [
        "track_id"
      ],
      "schemaTo": "public",
      "tableTo": "tracks",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "name": "track_metadata_track_id_tracks_id_fk",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "fks"
    },
    {
      "nameExplicit": false,
      "columns": [
        "album_id"
      ],
      "schemaTo": "public",
      "tableTo": "albums",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "name": "track_metadata_album_id_albums_id_fk",
      "schema": "public",
      "table": "track_metadata",
      "entityType": "fks"
    },
    {
      "isRlsEnabled": false,
      "name": "tracks",
      "schema": "public",
      "entityType": "tables"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "tracks_pkey",
      "schema": "public",
      "table": "tracks",
      "entityType": "pks"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "filename",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "original_filename",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "track_format_enum",
      "typeSchema": "public",
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "format",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "cover_art_path",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "duration",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "sample_rate",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "bit_depth",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "bigint",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "file_size",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "uploaded_at",
      "schema": "public",
      "table": "tracks",
      "entityType": "columns"
    },
    {
      "values": [
        "album",
        "ep",
        "single",
        "compilation"
      ],
      "name": "release_type_enum",
      "schema": "public",
      "entityType": "enums"
    },
    {
      "values": [
        "flac",
        "mp3",
        "wav",
        "aac"
      ],
      "name": "track_format_enum",
      "schema": "public",
      "entityType": "enums"
    }
  ],
  "renames": []
}